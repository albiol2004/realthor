# VPS OCR Service Configuration
# Comments must be on separate lines (not inline)

# Instance ID (unique identifier for this VPS instance)
VPS_INSTANCE_ID=vps-01

# PostgreSQL Connection (use Supabase connection pooler)
DATABASE_URL=postgresql://postgres.cmtbboloytcbwdaylngv:YCpleasepayus1234!@aws-1-eu-north-1.pooler.supabase.com:5432/postgres

# OCR Settings
# Spanish, English
OCR_LANGUAGE=es,en
# Set to true if GPU available
OCR_USE_GPU=false
# Process one document at a time
OCR_BATCH_SIZE=1
# Maximum file size to process
MAX_FILE_SIZE_MB=50

# Embeddings Settings (deprecated but kept for backward compatibility)
# Multilingual sentence transformer model
EMBEDDINGS_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
# Use "cuda" if GPU available
EMBEDDINGS_DEVICE=cpu
# Characters per chunk
EMBEDDINGS_CHUNK_SIZE=500
EMBEDDINGS_CHUNK_OVERLAP=50
# Process 8 chunks at a time
EMBEDDINGS_BATCH_SIZE=8

# AI Labeling Settings
# Deepseek API key for document labeling (get from https://platform.deepseek.com)
DEEPSEEK_API_KEY=your-deepseek-api-key-here
# Enable/disable AI labeling feature
AI_LABELING_ENABLED=true

# Contact Import Settings
# Enable/disable CSV contact import feature
CONTACT_IMPORT_ENABLED=true
# Supabase service role key (for downloading files from private storage)
# Get from: Supabase Dashboard > Project Settings > API > service_role key
SUPABASE_SERVICE_KEY=your-supabase-service-role-key-here

# Queue Settings
# How often to check for new jobs
POLL_INTERVAL_SECONDS=5
# Maximum retry attempts per job
MAX_RETRIES=3
# Timeout for long-running jobs
JOB_TIMEOUT_MINUTES=15

# Webhook Settings (optional - for notifying Kairo when jobs complete)
KAIRO_WEBHOOK_URL=https://your-kairo-domain.vercel.app/api/webhooks/ocr
WEBHOOK_SECRET=your-webhook-secret-here
# Set to true to enable webhook notifications
WEBHOOK_ENABLED=false

# Temporary File Storage
TEMP_DIR=/tmp/ocr-service
CLEANUP_TEMP_FILES=true
TEMP_FILE_MAX_AGE_HOURS=24

# Logging
# DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FILE=/var/log/ocr-service/app.log
LOG_ROTATION=100 MB
LOG_RETENTION=10 days

# Performance
# Number of concurrent OCR workers (1 for 2vCPU)
WORKER_THREADS=1
DOWNLOAD_TIMEOUT_SECONDS=120
